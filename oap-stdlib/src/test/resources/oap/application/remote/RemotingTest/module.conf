
name = "oap-module-with-remoting"
dependsOn = ["oap"]

services {
  remote-service-impl1 {
    implementation = oap.application.remote.RemoteService
    parameters {
      ok = 1
    }
  }

  remote-service-impl2 {
    implementation = oap.application.remote.RemoteService
    parameters {
      ok = 2
    }
  }

  remote-service-impl3 {
    implementation = oap.application.remote.RemoteService
    parameters {
      ok = 10
    }
  }

  remote-client1 {
    implementation = oap.application.remote.RemoteClient
    remote {
      url = "http://localhost:8980/remote/"
      name = remote-service-impl1
      serialization = JSON
    }
  }

  remote-client2 {
    implementation = oap.application.remote.RemoteClient
    remote {
      url = "http://localhost:8980/remote/"
      name = remote-service-impl2
      serialization = JSON
      retry = 3
    }
  }

  remote-client3 {
    implementation = oap.application.remote.RemoteClient
    remote {
      url = "http://localhost:8980/remote/"
      name = remote-service-impl3
      serialization = JSON
      retry = 3
    }
  }

}
